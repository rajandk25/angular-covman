{"version":3,"sources":["./src/app/common/models/parent.model.ts","./src/app/common/models/user.model.ts","./src/app/features/register-user/register-user.component.ts","./src/app/features/register-user/register-user.component.html","./src/app/features/register-user/register-user.module.ts","./src/app/features/register-user/register-user.routing.ts"],"names":[],"mappings":";;;;;;;;;;AAGA;AAAA;AAAO,MAAM,MAAM;IACf;QACI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;CAIJ;;;;;;;;;;;;;ACVD;AAAA;AAAO,MAAM,IAAI;IACb;QACI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC;QACf,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;CAQJ;;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACT;AACwC;AACZ;AACO;AAChB;AACJ;;;;;;;;;;;;ICM9C,yEACE;IAAA,2EAAyF;IAC3F,4DAAM;;;IAUJ,yEACE;IAAA,2EAAsE;IACxE,4DAAM;;;IASN,yEACE;IAAA,2EAAqE;IACvE,4DAAM;;;IAUJ,2EAC+E;;;IAC/E,2EACY;;;IAJd,yEACE;IAAA,qIACmE;IACnE,qIACA;IACF,4DAAM;;;IAHO,0DAAuD;IAAvD,wHAAuD;IACd,0DAAoD;IAApD,qHAAoD;;;IAYxG,2EACuE;;;IACvE,2EACyE;;;IAJ3E,yEACE;IAAA,qIAC2D;IAC3D,qIAC6D;IAC/D,4DAAM;;;IAHF,0DAAwD;IAAxD,yHAAwD;IAExD,0DAA0D;IAA1D,0HAA0D;;ADlDnE,MAAM,qBAAqB;IAMhC,YAAoB,WAA4B,EAAU,MAAc,EAAU,EAAe,EAAU,YAA0B;QAAjH,gBAAW,GAAX,WAAW,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,OAAE,GAAF,EAAE,CAAa;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAFrI,YAAO,GAAY,KAAK,CAAC;IAEgH,CAAC;IAE1I,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC5B,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACrD,UAAU,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;YACpD,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,KAAK,CAAC,CAAC;YACvE,UAAU,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,OAAO,CAAC,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACpG,CAAC,CAAC;IAEL,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,sCAAsC;QACtC,IAAI,MAAM,GAAW,IAAI,kEAAM,EAAE,CAAC;QAElC,IAAI,SAAS,GAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC;QAClE,IAAI,QAAQ,GAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC;QAChE,IAAI,KAAK,GAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;QAC5D,IAAI,QAAQ,GAAW,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,KAAK;QAE/D,+DAA+D;QAC/D,IAAI,IAAI,GAAS,IAAI,8DAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC;QAEnB,8CAA8C;QAC9C,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,SAAS,CAC1C,CAAC,IAAY,EAAE,EAAE;YACf,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAElB,IAAG,IAAI,EAAE;gBACP,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,EAAE,0BAA0B,CAAC,CAAC;aAC1E;QACH,CAAC,EACD,CAAC,KAAwB,EAAE,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,yCAAyC,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;QACtG,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY;QACV,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC;;0FAvDU,qBAAqB;qGAArB,qBAAqB;QCdlC,yEACE;QAAA,yEAEE;QAAA,yEACE;QAAA,0EACE;QAD2B,iJAAY,oBAAgB,IAAC;QACxD,6EACE;QAAA,gEACA;QAAA,gEAEA;QAAA,yEAEE;QAAA,gEACF;QAAA,iHACE;QAEF,iEAEE;QAAA,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAA0B;QAAA,4DAAO;QACnE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,mHACE;QAGF,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAA0B;QAAA,4DAAO;QACnE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,mHACE;QAGF,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAAwB;QAAA,4DAAO;QACjE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,mHACE;QAMF,0EACE;QAAA,0EACE;QAAA,2EAAkC;QAAA,oEAAyB;QAAA,4DAAO;QAClE,wEAEF;QAAA,4DAAM;QACR,4DAAM;QACN,mHACE;QAMJ,4DAAM;QAEN,iEACA;QAAA,iEAEA;QAAA,0EACE;QAAA,2EACE;QAAA,8EACsC;QAApC,8IAAS,oBAAgB,IAAC;QAAC,4DAAS;QACxC,4DAAM;QACN,2EACE;QAAA,8EACoC;QAAlC,8IAAS,kBAAc,IAAC;QAAC,4DAAS;QACtC,4DAAM;QACR,4DAAM;QACR,4DAAU;QACZ,4DAAO;QACT,4DAAM;QACR,4DAAM;QACR,4DAAM;;QAlFM,0DAAsB;QAAtB,mFAAsB;QAQH,0DAAe;QAAf,6EAAe;QAYb,0DAAqF;QAArF,uJAAqF;QAWrF,0DAAmF;QAAnF,qJAAmF;QAWnF,0DAAiF;QAAjF,mJAAiF;QAcjF,0DAAmF;QAAnF,qJAAmF;QAc9B,0DAA4B;QAA5B,yFAA4B;;6FD5DrG,qBAAqB;cALjC,uDAAS;eAAC;gBACT,QAAQ,EAAE,mBAAmB;gBAC7B,WAAW,EAAE,8BAA8B;gBAC3C,SAAS,EAAE,CAAC,6BAA6B,CAAC;aAC3C;;;;;;;;;;;;;;AEbD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AACgD;AACE;AACrC;;AAUrD,MAAM,kBAAkB;;iGAAlB,kBAAkB;8JAAlB,kBAAkB,kBAPpB;YACP,4DAAY;YACZ,8GAAyB;YACzB,yEAAe;SAChB;mIAGU,kBAAkB,mBAFd,4GAAqB,aAJlC,4DAAY;QACZ,8GAAyB;QACzB,yEAAe;6FAIN,kBAAkB;cAR9B,sDAAQ;eAAC;gBACR,OAAO,EAAE;oBACP,4DAAY;oBACZ,8GAAyB;oBACzB,yEAAe;iBAChB;gBACD,YAAY,EAAE,CAAC,4GAAqB,CAAC;aACtC;;;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACwC;;;AAG/F,MAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4GAAqB;KACnC;CACJ,CAAC;AAMK,MAAM,yBAAyB;;wGAAzB,yBAAyB;4KAAzB,yBAAyB,kBAHzB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9B,4DAAY;mIAEb,yBAAyB,uFAFxB,4DAAY;6FAEb,yBAAyB;cAJrC,sDAAQ;eAAC;gBACN,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;aAC1B","file":"src-app-features-register-user-register-user-module-es2015.js","sourcesContent":["\r\nimport { User } from './user.model';\r\n\r\nexport class Parent {\r\n    constructor() {\r\n        this.id = null;\r\n        this.user = null;\r\n    }\r\n\r\n    id: number;\r\n    user: User;\r\n}\r\n","\r\nexport class User {\r\n    constructor() {\r\n        this.id = null;\r\n        this.firstName = null;\r\n        this.password = null;\r\n        this.email = null;\r\n        this.lastName = null;\r\n        this.role = null;\r\n    }\r\n\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    password: string;\r\n    email: string;\r\n    role: string;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Validators, FormControl, FormGroup, FormBuilder } from '@angular/forms';\r\nimport { ToastService } from 'src/app/common/services/toast.service';\r\nimport { UserDataService } from 'src/app/common/services/user-data.service';\r\nimport { Parent } from './../../common/models/parent.model';\r\nimport { User } from './../../common/models/user.model';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-register-user',\r\n  templateUrl: 'register-user.component.html',\r\n  styleUrls: ['register-user.component.css']\r\n})\r\nexport class RegisterUserComponent implements OnInit {\r\n\r\n  userform: FormGroup;\r\n\r\n  isError: boolean = false;\r\n\r\n  constructor(private userService: UserDataService, private router: Router, private fb: FormBuilder, private toastService: ToastService) { }\r\n\r\n  ngOnInit() {\r\n    this.userform = this.fb.group({\r\n      'firstName': new FormControl('', Validators.required),\r\n      'lastName': new FormControl('', Validators.required),\r\n      'emailId': new FormControl('', [Validators.required, Validators.email]),\r\n      'password': new FormControl('', Validators.compose([Validators.required, Validators.minLength(6)]))\r\n    });\r\n\r\n  }\r\n\r\n  handleRegister() {\r\n    this.isError = false;\r\n    //create parent to pass to the service\r\n    let parent: Parent = new Parent();\r\n\r\n    let firstname: string = this.userform.controls[\"firstName\"].value;\r\n    let lastname: string = this.userform.controls[\"lastName\"].value;\r\n    let email: string = this.userform.controls[\"emailId\"].value;\r\n    let password: string = this.userform.controls[\"password\"].value\r\n\r\n    //parent need User object, so create that and set to the parent\r\n    let user: User = new User();\r\n    user.firstName = firstname;\r\n    user.lastName = lastname;\r\n    user.email = email;\r\n    user.password = password;\r\n\r\n    parent.user = user;\r\n\r\n    //subscribe to the service to get the response\r\n    this.userService.addParent(parent).subscribe(\r\n      (data: Parent) => {\r\n        console.log(data);\r\n        \r\n        if(data) {\r\n          this.router.navigate(['/login']);\r\n          this.toastService.addSingle(\"success\", \"\", \"Successfully registered.\");\r\n      }\r\n    }, \r\n    (error: HttpErrorResponse) => {\r\n      this.isError = true;\r\n      this.toastService.addSingle(\"error\", \"\", \"Error while registering. Please retry. \" + error.message);\r\n    });\r\n  }\r\n\r\n  routeToLogin() {\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n}\r\n\r\n","<div class=\"user-regisration\">\r\n  <div class=\"p-grid p-nogutter p-justify-center p-align-center\" style=\"height:100%\">\r\n\r\n    <div class=\"p-col-5\">\r\n      <form [formGroup]=\"userform\" (ngSubmit)=\"handleRegister()\">\r\n        <p-panel header=\"Register\">\r\n          <br/>\r\n          <br/>\r\n\r\n          <div class=\"p-grid p-justify-center p-align-center\">\r\n\r\n            <br/>\r\n          <div class=\"p-col-8\" *ngIf=\"isError\">\r\n            <p-message severity=\"error\" text=\"Error Registering the user. Please retry.\"></p-message>\r\n          </div>\r\n          <br/>\r\n\r\n            <div class=\"p-col-8\">\r\n              <div class=\"ui-inputgroup\">\r\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-user\"></i></span>\r\n                <input id=\"float-input-firstname\" type=\"text\" size=\"30\" pInputText formControlName=\"firstName\"\r\n                  placeholder=\"First Name\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-col-8\" *ngIf=\"userform.controls['firstName'].errors && userform.controls['firstName'].dirty\">\r\n              <p-message severity=\"error\" text=\"First name is required\"></p-message>\r\n            </div>\r\n\r\n            <div class=\"p-col-8\">\r\n              <div class=\"ui-inputgroup\">\r\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-user\"></i></span>\r\n                <input id=\"float-input-lastname\" type=\"text\" size=\"30\" pInputText formControlName=\"lastName\"\r\n                       placeholder=\"Last Name\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-col-8\" *ngIf=\"userform.controls['lastName'].errors && userform.controls['lastName'].dirty\">\r\n              <p-message severity=\"error\" text=\"Last name is required\"></p-message>\r\n            </div>\r\n\r\n            <div class=\"p-col-8\">\r\n              <div class=\"ui-inputgroup\">\r\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-at\"></i></span>\r\n                <input id=\"float-input-emailid\" type=\"email\" size=\"30\" pInputText formControlName=\"emailId\"\r\n                       placeholder=\"Parent Email Id\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-col-8\" *ngIf=\"userform.controls['emailId'].errors && userform.controls['emailId'].dirty\">\r\n              <p-message severity=\"error\" text=\"Email is required\"\r\n                         *ngIf=\"userform.controls['emailId'].errors['required']\"></p-message>\r\n              <p-message severity=\"error\" text=\"Email is invalid\" *ngIf=\"userform.controls['emailId'].errors['email']\">\r\n              </p-message>\r\n            </div>\r\n\r\n            <div class=\"p-col-8\">\r\n              <div class=\"ui-inputgroup\">\r\n                <span class=\"ui-inputgroup-addon\"><i class=\"fa fa-key\"></i></span>\r\n                <input id=\"float-input-password\" type=\"password\" size=\"30\" pInputText formControlName=\"password\"\r\n                  placeholder=\"Password\" required>\r\n              </div>\r\n            </div>\r\n            <div class=\"p-col-8\" *ngIf=\"userform.controls['password'].errors && userform.controls['password'].dirty\">\r\n              <p-message severity=\"error\" text=\"Password is required\"\r\n                *ngIf=\"userform.controls['password'].errors['required']\"></p-message>\r\n              <p-message severity=\"error\" text=\"Minimum 6 characters required.\"\r\n                *ngIf=\"userform.controls['password'].errors['minlength'] \"></p-message>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <br/>\r\n          <br/>\r\n\r\n          <div class=\"p-grid p-justify-center p-align-center\">\r\n            <div class=\"p-col-3\">\r\n              <button pButton type=\"button\" label=\"Register\" class=\"ui-button-raised\" [disabled]=\"!userform.valid\"\r\n                (click)=\"handleRegister()\"></button>\r\n            </div>\r\n            <div class=\"p-col-3\">\r\n              <button pButton type=\"button\" label=\"Login\" class=\"ui-button-raised\"\r\n                (click)=\"routeToLogin()\"></button>\r\n            </div>\r\n          </div>\r\n        </p-panel>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RegisterUserComponent } from 'src/app/features/register-user/register-user.component';\r\nimport { RegisterUserRoutingModule } from 'src/app/features/register-user/register-user.routing';\r\nimport { AppCommonModule } from 'src/app/app.common.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RegisterUserRoutingModule,\r\n    AppCommonModule\r\n  ],\r\n  declarations: [RegisterUserComponent]\r\n})\r\nexport class RegisterUserModule { }","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RegisterUserComponent } from 'src/app/features/register-user/register-user.component';\r\n\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: RegisterUserComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class RegisterUserRoutingModule { }"],"sourceRoot":"webpack:///"}